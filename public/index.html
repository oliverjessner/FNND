<!doctype html>
<html lang="de">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>NO BULLðŸ’© RSS</title>
        <link rel="icon" href="/images/logo/logo_small.png" />
        <link rel="stylesheet" href="/styles.css" />
    </head>
    <body>
        <header class="topbar">
            <div class="brand">
                <img class="brand-logo" src="/images/logo/logo.png" alt="No Bullshit RSS" />
            </div>

            <nav class="nav">
                <button class="nav-link" data-view="digest">Daily Digest</button>

                <button class="nav-link is-active" data-view="main">Dashboard</button>
                <button class="nav-link" data-view="settings">Settings</button>
            </nav>
        </header>

        <main class="container">
            <section id="view-main" class="view is-active">
                <div class="toolbar">
                    <div class="toolbar-actions">
                        <input id="search-input" class="search-input" type="search" placeholder="Searchâ€¦" />

                        <button id="toggle-layout" class="btn toggle" data-layout="cards" aria-pressed="false">
                            <span class="toggle-track"></span>
                            <span class="toggle-label">Cards</span>
                        </button>
                        <select id="filter-list" class="select">
                            <option value="">all lists</option>
                        </select>
                        <select id="filter-source" class="select">
                            <option value="">all sources</option>
                        </select>

                        <button id="run-fetch" class="btn ghost">refetch</button>
                    </div>
                </div>
                <div id="loading-row" class="loading-row">
                    <span class="spinner" aria-hidden="true"></span>
                </div>
                <div class="articles-scroll">
                    <h2 id="articles-state" class="state">LÃ¤dtâ€¦</h2>
                    <div id="articles-list" class="cards"></div>
                </div>
            </section>

            <section id="view-digest" class="view view-digest">
                <div class="digest-scroll">
                    <div class="digest-header">
                        <h2 id="digest-title" class="digest-title">LÃ¤dtâ€¦</h2>
                        <div class="digest-header-meta">
                            <p id="digest-subtitle" class="digest-subtitle">LÃ¤dtâ€¦</p>
                            <button id="digest-mark-all" class="btn ghost" type="button">Mark all as digested</button>
                            <div id="digest-sort-toggle" class="digest-sort-toggle" role="group" aria-label="Sort clusters">
                                <button
                                    class="digest-sort-option"
                                    data-digest-sort="desc"
                                    type="button"
                                    aria-pressed="true"
                                >
                                    Descending
                                </button>
                                <button
                                    class="digest-sort-option"
                                    data-digest-sort="asc"
                                    type="button"
                                    aria-pressed="false"
                                >
                                    Ascending
                                </button>
                            </div>
                        </div>
                    </div>

                    <h2 id="digest-state" class="state">LÃ¤dtâ€¦</h2>
                    <div id="digest-list" class="digest-clusters"></div>
                </div>
            </section>

            <section id="view-settings" class="view view-settings">
                <div class="settings-tabs-wrap">
                    <div class="settings-tabs">
                        <button class="settings-tab is-active" data-settings="feeds" type="button">
                            Add new RSS Feeds
                        </button>
                        <button class="settings-tab" data-settings="lists" type="button">Lists</button>
                    </div>
                </div>

                <div id="settings-feeds" class="settings-panel is-active">
                    <div class="settings-feeds-left">
                        <form id="feed-form" class="card form">
                            <div class="form-row">
                                <label>Name</label>
                                <input type="text" id="feed-name" placeholder="z. B. techcrunch" required />
                            </div>
                            <div class="form-row">
                                <label>Website URL</label>
                                <input type="url" id="feed-website" placeholder="https://example.com" required />
                            </div>
                            <div class="form-row">
                                <label>Feed URL</label>
                                <input type="url" id="feed-url" placeholder="https://example.com/feed.xml" required />
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn primary" id="feed-submit">store feed</button>
                                <button type="button" class="btn ghost" id="feed-cancel">cancel</button>
                                <button type="button" class="btn" id="feed-test">test feed</button>
                            </div>
                            <div id="feed-form-status" class="form-status"></div>
                        </form>
                        <div id="fetch-status" class="status-line">Letzter Fetch: â€”</div>
                        <div id="article-count-status" class="status-line">Gespeicherte Artikel: â€”</div>
                    </div>

                    <div class="settings-feeds-content">
                        <div id="feeds-state" class="state">LÃ¤dtâ€¦</div>
                        <div id="feeds-list" class="list"></div>
                    </div>
                </div>

                <div id="settings-lists" class="settings-panel">
                    <div class="settings-lists-left">
                        <form id="list-form" class="card form">
                            <div class="form-row">
                                <label>Name</label>
                                <input type="text" id="list-name" placeholder="e. g. Readinglist" required />
                            </div>
                            <div class="form-row">
                                <label>Description</label>
                                <input type="text" id="list-description" placeholder="optional" />
                            </div>
                            <div class="form-row">
                                <label>Color</label>
                                <input type="color" class="color-picker" id="list-color" value="#1d1d1f" />
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn primary" id="list-submit">save list</button>
                                <button type="button" class="btn ghost" id="list-cancel">cancel</button>
                            </div>
                            <div id="list-form-status" class="form-status"></div>
                        </form>
                    </div>

                    <div class="settings-lists-content">
                        <div id="lists-state" class="state">LÃ¤dtâ€¦</div>
                        <div id="lists-list" class="list"></div>
                    </div>
                </div>

                <footer class="settings-footer">
                    <span>Â© Copyright Oliver Jessner</span>
                    <a href="https://oliverjessner.at" target="_blank" rel="noopener noreferrer">oliverjessner.at</a>
                </footer>
            </section>
        </main>

        <template id="article-card-template">
            <article class="card">
                <div class="meta">
                    <span class="meta-date"></span>
                    <span class="meta-source">
                        <span class="source-name"></span>
                        <img class="source-logo" alt="" />
                    </span>
                </div>
                <div class="content">
                    <h3 class="title"></h3>
                    <p class="teaser"></p>
                </div>
                <div class="actions">
                    <a class="link" target="_blank" rel="noopener noreferrer">read article</a>
                    <button class="btn ghost btn-add" type="button">+</button>
                </div>
            </article>
        </template>

        <template id="list-item-template">
            <div class="list-item">
                <div>
                    <div class="list-title">
                        <span class="list-color-dot"></span>
                        <span class="list-name"></span>
                    </div>
                    <div class="list-meta"></div>
                </div>
                <div class="list-actions">
                    <button class="btn ghost btn-edit">Bearbeiten</button>
                    <button class="btn danger btn-delete">LÃ¶schen</button>
                </div>
            </div>
        </template>

        <div id="modal-backdrop" class="modal-backdrop" aria-hidden="true">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-title">Zu Liste hinzufÃ¼gen</div>
                    <button class="btn ghost" id="modal-close" type="button">âœ•</button>
                </div>
                <div class="modal-body">
                    <label for="modal-list-select">Liste auswÃ¤hlen</label>
                    <select id="modal-list-select" class="select"></select>
                    <div class="modal-existing">
                        <div class="modal-existing-title">Bereits in:</div>
                        <div id="modal-existing-lists" class="modal-existing-list">â€”</div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn ghost" id="modal-cancel" type="button">Abbrechen</button>
                    <button class="btn primary" id="modal-confirm" type="button">HinzufÃ¼gen</button>
                </div>
            </div>
        </div>

        <template id="feed-item-template">
            <div class="list-item">
                <div>
                    <div class="list-title">
                        <img class="feed-logo" alt="" />
                        <span class="feed-name"></span>
                    </div>
                    <div class="list-meta"></div>
                </div>
                <div class="list-actions">
                    <button class="btn ghost btn-edit">Bearbeiten</button>
                    <button class="btn danger btn-delete">LÃ¶schen</button>
                </div>
            </div>
        </template>

        <template id="digest-cluster-template">
            <article class="card digest-cluster">
                <div class="digest-cluster-header">
                    <div class="digest-cluster-main">
                        <span class="digest-cluster-count"></span>
                        <h3 class="title digest-cluster-title"></h3>
                    </div>
                    <div class="digest-cluster-side">
                        <span class="digest-cluster-date"></span>
                        <div class="digest-cluster-sources"></div>
                    </div>
                </div>
                <div class="digest-items-grid"></div>
            </article>
        </template>

        <script src="/app.js" type="module"></script>
    </body>
</html>
